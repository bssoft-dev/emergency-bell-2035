<div class="menu-overlay"></div>
<div class="container-scroller">

    <nav id="nav_top" class="navbar default-layout col-lg-12 col-12 p-0 fixed-top" style="visibility: none;">

    </nav>

    <div class="container-fluid page-body-wrapper">

        <!-- 헤드 -->
        <div class="main-header">
            <app-header [side]="selectedSide"></app-header>
        </div>

        <nav class="sidebar sidebar-offcanvas" id="sidebar" style="position:fixed; z-index: 350;
		padding-top: 30px; overflow-y: hidden; background-color: #121619; border-right: 3px solid #282c2f;">
            <div>
                <!-- 사이드 프로필 -->
                <div class="avatarcon " style="height: 150px; text-align: center; margin-top: 30px; ">
                    <img class="avatar bg-light rounded-circle text-white p-1 " [src]="corplogo " style="width: 80px; height: 80px; ">
                    <p class="gfont " style="color: white; margin-top: 10px; font-weight: 400; font-size: 20px; ">{{myname}}</p>
                    <a class="gfont " (click)="clickeModal() " href="javascript:false " style="color: white; margin-top: 10px; font-weight: 400; font-size: 14px; ">내 정보수정</a>
                </div>
                <div></div>

                <!-- 사이드 메뉴 -->
                <ul class="nav" *ngFor="let side of sides">
                    <!-- 고객 사이드 메뉴 -->
                    <ng-container *ngIf="side.ngif.includes('customer_code') == 1">
                        <li class="nav-item">
                            <a class="nav-link" routerLink={{side.route}} (click)="onSelect(side)">
                                <img src={{side.emt}} />
                                <div class="menu-title" style="display: block;">
                                    <h6 class="gfont">{{side.menu}}</h6>
                                </div>
                            </a>
                        </li>
                    </ng-container>

                    <!-- 관리자 사이드 메뉴 -->
                    <ng-container *ngIf="side.ngif.includes('customer_code') != 1">
                        <li class="nav-item" *ngIf="is_hyperuser">
                            <a class="nav-link" routerLink={{side.route}} (click)="onSelect(side)">
                                <img src={{side.emt}} />
                                <div class="menu-title" style="display: block;">
                                    <h6 class="gfont">{{side.menu}}</h6>
                                </div>
                            </a>
                        </li>
                    </ng-container>
                </ul>
            </div>
            <div class="logoutbox">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" (click)="clickedModal()" href="javascript:false">
                            <img src="../../assets/images/dashboardicons/작동중.png" style="width: 34px;" />
                            <div class="menu-title">
                                <h6 class="gfont">알람설정</h6>
                            </div>
                        </a>
                    </li>
                    <li class="nav-item" style=>
                        <a class="nav-link" (click)="logout()" routerLink="">
                            <img src="../../assets/images/dashboardicons/로그아웃.png" style="width: 34px;" />
                            <div class="menu-title">
                                <h6 class="gfont">로그아웃</h6>
                            </div>
                        </a>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="main-panel">
            <router-outlet></router-outlet>
        </div>
    </div>
</div>

<!-- 알람모달 -->
<div [ngClass]="alarmmodal ? 'modal fade show d-block' : 'modal fade' " tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" class="modalcontainer">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="deviceenrollcard">
                <h5 class="modal-title" id="exampleModalLabel">알람설정</h5>
                <ul class="tabtitle">
                    <li class="tabtitlebox" [class.selected]="title === selectedtab" *ngFor="let title of tabtitle;" (click)="selecttab(title)">
                        <p class="gfont tabfont">{{title}}</p>
                    </li>
                </ul>
                <div class="tabcontents">
                    <div class="contentbox" *ngIf="tab1">
                        <div class="flexbox">
                            <form [formGroup]="registersmsForm" (ngSubmit)="registersmsuser()" novalidate>
                                <div class="inputDiv">
                                    <input placeholder="이름" class="enrolldevice1" type="text" formControlName="name" />
                                    <input placeholder="연락처" class="enrolldevice2" type="text" formControlName="phone" />
                                    <button class="imgbutton">
										<img src="../../assets/images/dashboardicons/더하기.png " />
									</button>
                                </div>
                            </form>
                        </div>
                        <div class="buttonbox">
                            <input [checked]="allsmsdata" (click)="allsmssetting()" class="toggleinput" type="checkbox" id="toggleinput" />
                            <label class="togglelabel customlabel abtn" for="toggleinput"></label>
                        </div>
                        <div class="tblth">
                            <div class="th">이름</div>
                            <div class="th">번호</div>
                            <div class="th">발신설정</div>
                            <div class="th">삭제</div>
                        </div>
                        <div class="tbltd" *ngFor="let user of getalarmsmsdata; let index = index;">
                            <div class="td">
                                {{user.name}}
                            </div>
                            <div class="td">
                                {{user.phone}}
                            </div>
                            <div class="td">
                                <input [checked]="user.setting" id="sms{{index}}" class="toggleinput" type="checkbox" (click)="onesmssetting(index)" />
                                <label class="togglelabel abtn" for="sms{{index}}"></label>
                            </div>
                            <div class="td">
                                <button class="modifying abtn" (click)="deletesmsalarm(index)">
									<i class="menu-icon mdi mdi-delete"></i>
								</button>
                            </div>
                        </div>

                    </div>

                    <div class="contentbox" *ngIf="tab2">
                        <div class="flexbox">
                            <form [formGroup]="registeremailForm" (ngSubmit)="registeremailuser()" novalidate>
                                <div class="inputDiv">
                                    <input placeholder="이름" class="enrolldevice1" type="text" formControlName="name" />
                                    <input placeholder="이메일" class="enrolldevice2" type="text" formControlName="email" />
                                    <button class="imgbutton">
										<img src="../../assets/images/dashboardicons/더하기.png " />
									</button>
                                </div>
                            </form>
                        </div>
                        <div class="buttonbox">
                            <input [checked]="allemaildata" (click)="allemailsetting()" class="toggleinput" type="checkbox" id="toggleinput" />
                            <label class="togglelabel customlabel abtn" for="toggleinput"></label>
                        </div>
                        <div class="tblth">
                            <div class="th">이름</div>
                            <div class="th">이메일</div>`
                            <div class="th">발신설정</div>
                            <div class="th">삭제</div>
                        </div>
                        <div class="tbltd" *ngFor="let user of getalarmemaildata; let index = index;">
                            <div class="td">
                                {{user.name}}
                            </div>
                            <div class="td">
                                {{user.email}}
                            </div>
                            <div class="td">
                                <input (click)="oneemailsetting(index)" [checked]="user.setting" id="email{{index}}" class="toggleinput" type="checkbox" />
                                <label class="togglelabel abtn" for="email{{index}}"></label>
                            </div>
                            <div class="td">
                                <button class="modifying abtn" (click)="deleteemailalarm(index)">
									<i class="menu-icon mdi mdi-delete"></i>
								</button>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="modal_footer">
                    <a class="footerbutton abtn" (click)="clickedModalClose()">확인</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal -->
<div [ngClass]="modal ? 'modal fade show d-block' : 'modal fade' " tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" class="modalcontainer">
    <app-profile></app-profile>
</div>